//@flow
import React, { memo } from "react";
import styled from "styled-components";
import { IconWrapper } from "components/Icons/index.styled";

const SoundIcon = styled(IconWrapper)`
  margin-right: 6px;

  .colored-path {
    fill: #e2e2e2;
  }
`;

const loudIcons = {
  mute: (
    <>
      <path
        d="M11.3832 6.21618C12.0396 5.70191 13 6.16951 13 7.00332V16.9994C13 17.8332 12.0396 18.3008 11.3832 17.7865L8.4993 15.5268H5C4.44772 15.5268 4 15.0791 4 14.5268V9.4748C4 8.92252 4.44772 8.4748 5 8.4748H8.5007L11.3832 6.21618Z"
        className="colored-path"
      />
      <path
        d="M18.5962 9.35356C18.7914 9.15829 19.108 9.15829 19.3033 9.35356C19.4985 9.54882 19.4985 9.8654 19.3033 10.0607L17.5355 11.8284L19.3033 13.5962C19.4986 13.7915 19.4986 14.1081 19.3033 14.3033C19.108 14.4986 18.7914 14.4986 18.5962 14.3033L16.8284 12.5355L15.0606 14.3033C14.8654 14.4986 14.5488 14.4986 14.3535 14.3033C14.1583 14.108 14.1583 13.7915 14.3535 13.5962L16.1213 11.8284L14.3535 10.0607C14.1583 9.86542 14.1583 9.54883 14.3535 9.35357C14.5488 9.15831 14.8654 9.15831 15.0607 9.35357L16.8284 11.1213L18.5962 9.35356Z"
        className="colored-path"
      />
    </>
  ),
  low: (
    <>
      <path
        d="M12.8889 7.00187C12.8889 6.16463 11.9215 5.69806 11.2663 6.21931L8.44341 8.46511H5C4.44772 8.46511 4 8.91282 4 9.46511V14.5368C4 15.0891 4.44772 15.5368 5 15.5368H8.44546L11.2663 17.781C11.9215 18.3022 12.8889 17.8356 12.8889 16.9984V7.00187Z"
        className="colored-path"
      />
      <path
        d="M15.5555 12.0015C15.5555 11.0947 15.0978 10.2942 14.3996 9.81597C14.1492 9.64452 14.0699 9.27345 14.285 9.05949C14.4122 8.93304 14.6074 8.90027 14.76 8.99439C15.7711 9.61786 16.4444 10.7315 16.4444 12.0015C16.4444 13.2715 15.7712 14.3851 14.7603 15.0086C14.6076 15.1027 14.4124 15.0699 14.2852 14.9435C14.0701 14.7295 14.1494 14.3585 14.3997 14.187C15.0979 13.7088 15.5555 12.9083 15.5555 12.0015Z"
        className="colored-path"
      />
    </>
  ),
  medium: (
    <>
      <path
        d="M12.8889 7.00187C12.8889 6.16463 11.9215 5.69806 11.2663 6.21931L8.44341 8.46511H5C4.44772 8.46511 4 8.91282 4 9.46511V14.5368C4 15.0891 4.44772 15.5368 5 15.5368H8.44546L11.2663 17.781C11.9215 18.3022 12.8889 17.8356 12.8889 16.9984V7.00187Z"
        className="colored-path"
      />
      <path
        d="M15.6162 8.51194C16.6612 9.32064 17.3334 10.5833 17.3334 12.0021C17.3334 13.4208 16.6612 14.6834 15.6163 15.4921C15.392 15.6657 15.349 16.0019 15.5501 16.2019C15.6947 16.3456 15.9212 16.3706 16.0846 16.2487C17.3825 15.2813 18.2223 13.7392 18.2223 12.0021C18.2223 10.2649 17.3824 8.72273 16.0845 7.75531C15.921 7.63347 15.6945 7.6584 15.5499 7.80217C15.3488 8.00216 15.3919 8.33836 15.6162 8.51194Z"
        className="colored-path"
      />
      <path
        d="M15.5555 12.0015C15.5555 11.0947 15.0978 10.2942 14.3996 9.81597C14.1492 9.64452 14.0699 9.27345 14.285 9.05949C14.4122 8.93304 14.6074 8.90027 14.76 8.99439C15.7711 9.61786 16.4444 10.7315 16.4444 12.0015C16.4444 13.2715 15.7712 14.3851 14.7603 15.0086C14.6076 15.1027 14.4124 15.0699 14.2852 14.9435C14.0701 14.7295 14.1494 14.3585 14.3997 14.187C15.0979 13.7088 15.5555 12.9083 15.5555 12.0015Z"
        className="colored-path"
      />
    </>
  ),
  high: (
    <>
      <path
        d="M12.8889 7.00187C12.8889 6.16463 11.9215 5.69806 11.2663 6.21931L8.44341 8.46511H5C4.44772 8.46511 4 8.91282 4 9.46511V14.5368C4 15.0891 4.44772 15.5368 5 15.5368H8.44546L11.2663 17.781C11.9215 18.3022 12.8889 17.8356 12.8889 16.9984V7.00187Z"
        className="colored-path"
      />
      <path
        d="M15.6162 8.51194C16.6612 9.32064 17.3334 10.5833 17.3334 12.0021C17.3334 13.4208 16.6612 14.6834 15.6163 15.4921C15.392 15.6657 15.349 16.0019 15.5501 16.2019C15.6947 16.3456 15.9212 16.3706 16.0846 16.2487C17.3825 15.2813 18.2223 13.7392 18.2223 12.0021C18.2223 10.2649 17.3824 8.72273 16.0845 7.75531C15.921 7.63347 15.6945 7.6584 15.5499 7.80217C15.3488 8.00216 15.3919 8.33836 15.6162 8.51194Z"
        className="colored-path"
      />
      <path
        d="M15.5555 12.0015C15.5555 11.0947 15.0978 10.2942 14.3996 9.81597C14.1492 9.64452 14.0699 9.27345 14.285 9.05949C14.4122 8.93304 14.6074 8.90027 14.76 8.99439C15.7711 9.61786 16.4444 10.7315 16.4444 12.0015C16.4444 13.2715 15.7712 14.3851 14.7603 15.0086C14.6076 15.1027 14.4124 15.0699 14.2852 14.9435C14.0701 14.7295 14.1494 14.3585 14.3997 14.187C15.0979 13.7088 15.5555 12.9083 15.5555 12.0015Z"
        className="colored-path"
      />
      <path
        d="M16.8577 7.23525C18.2343 8.37024 19.1112 10.0838 19.1112 12.0011C19.1112 13.9182 18.2345 15.6317 16.858 16.7667C16.6468 16.9408 16.6174 17.2621 16.8115 17.4551C16.9638 17.6065 17.2044 17.6263 17.3714 17.4912C18.9753 16.1946 20.0001 14.2169 20.0001 12.0011C20.0001 9.78519 18.9752 7.80733 17.3711 6.51071C17.2041 6.3757 16.9634 6.39543 16.8111 6.54687C16.6171 6.73987 16.6465 7.06114 16.8577 7.23525Z"
        className="colored-path"
      />
    </>
  ),
};

function getIconName(currentValue: number) {
  let icon = "mute";
  if (+currentValue > 0.75) icon = "high";
  if (+currentValue < 0.75) icon = "medium";
  if (+currentValue < 0.25) icon = "low";
  if (+currentValue === 0) icon = "mute";
  return icon;
}

type Props = {
  onClick: Function,
  currentValue: number,
  isFetched: boolean,
};

export default memo<Props>(function({ onClick, currentValue, isFetched }) {
  const icon = getIconName(currentValue);

  return (
    <SoundIcon onClick={onClick} isFetched={isFetched}>
      <svg
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        {loudIcons[icon]}
      </svg>
    </SoundIcon>
  );
});
